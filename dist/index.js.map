{"version":3,"sources":["../src/index.js"],"names":["config","aboutPost","author","permlink","weightage","Promise","resolve","reject","api","getContent","err","result","console","log","isCheetah","active_votes","filter","data","voter","length","bodyParse1","body","bodyParse2","articleLength","created","upvote","broadcast","vote","process","env","STEEM_POSTING","STEEM_USERNAME"],"mappings":";;;;;;;AAAA;;;;AACA;;;;AACA;;AAEA;;;;AAOA,iBAAOA,MAAP;;AAEA;;AAEA,SAASC,SAAT,CAAmBC,MAAnB,EAA2BC,QAA3B,EAAqCC,SAArC,EAAgD;AAC9C,SAAO,IAAIC,OAAJ,CAAY,UAASC,OAAT,EAAkBC,MAAlB,EAA0B;AAC3C,oBAAMC,GAAN,CAAUC,UAAV,CAAqBP,MAArB,EAA6BC,QAA7B,EAAuC,UACrCO,GADqC,EAErCC,MAFqC,EAGrC;AACA,UAAID,GAAJ,EAAS;AACPE,gBAAQC,GAAR,CAAY,OAAZ;AACAN,eAAO,OAAP;AACD;;AAED,UAAMO,YAAY,EAChBH,OAAOI,YAAP,CAAoBC,MAApB,CAA2B,gBAAQ;AACjC,YAAIC,KAAKC,KAAL,KAAe,SAAnB,EAA8B;AAC5B,iBAAO,IAAP;AACD;AACD,eAAO,KAAP;AACD,OALD,EAKGC,MALH,KAKc,CANE,CAAlB;;AASA,UAAMC,aAAa,wBAAYT,OAAOU,IAAnB,CAAnB;AACA,UAAMC,aAAa,uBAAWF,UAAX,CAAnB;AACA,UAAMG,gBAAgBD,WAAWH,MAAjC;;AAEAb,cAAQ;AACNJ,gBAAQS,OAAOT,MADT;AAENsB,iBAASb,OAAOa,OAFV;AAGNV,4BAHM;AAINS;AAJM,OAAR;AAMD,KA5BD;AA6BD,GA9BM,CAAP;AA+BD;;AAED;;AAEA,SAASE,MAAT,CAAgBvB,MAAhB,EAAwBC,QAAxB,EAAkCC,SAAlC,EAA6C;AAC3C,SAAO,gBAAMsB,SAAN,CAAgBC,IAAhB,CACLC,QAAQC,GAAR,CAAYC,aADP,EAELF,QAAQC,GAAR,CAAYE,cAFP,EAGL,UAHK,EAIL,iCAJK,EAKL,KALK,EAML,UAASrB,GAAT,EAAcC,MAAd,EAAsB;AACpBC,YAAQC,GAAR,CAAYH,GAAZ,EAAiBC,MAAjB;AACD,GARI,CAAP;AAUD;;QAEQV,S,GAAAA,S","file":"index.js","sourcesContent":["import dotenv from 'dotenv';\nimport steem from 'steem';\nimport 'babel-polyfill';\n\nimport {\n  imageParser,\n  linkParser,\n  divParser,\n  breakLineParser\n} from './regex';\n\ndotenv.config();\n\n// ABOUT THE POST\n\nfunction aboutPost(author, permlink, weightage) {\n  return new Promise(function(resolve, reject) {\n    steem.api.getContent(author, permlink, function(\n      err,\n      result\n    ) {\n      if (err) {\n        console.log('ERROR');\n        reject('ERROR');\n      }\n\n      const isCheetah = !(\n        result.active_votes.filter(data => {\n          if (data.voter === 'cheetah') {\n            return true;\n          }\n          return false;\n        }).length === 0\n      );\n\n      const bodyParse1 = imageParser(result.body);\n      const bodyParse2 = linkParser(bodyParse1);\n      const articleLength = bodyParse2.length;\n\n      resolve({\n        author: result.author,\n        created: result.created,\n        isCheetah,\n        articleLength\n      });\n    });\n  });\n}\n\n// UPVOTE\n\nfunction upvote(author, permlink, weightage) {\n  return steem.broadcast.vote(\n    process.env.STEEM_POSTING,\n    process.env.STEEM_USERNAME,\n    'superoo7',\n    'preperation-for-upcoming-meetup',\n    10000,\n    function(err, result) {\n      console.log(err, result);\n    }\n  );\n}\n\nexport { aboutPost };\n"]}